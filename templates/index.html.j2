<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ personal.name }}</title>
  
  <!-- Preload critical images -->
  <link rel="preload" href="assets/profile.jpg" as="image">
  {% for project in projects %}
  <link rel="preload" href="{{ project.icon }}" as="image">
  {% endfor %}
  
  <!-- Minimal styling in a separate file -->
  <link rel="stylesheet" href="css/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Theme toggle -->
  {% include 'partials/theme-toggle.html.j2' %}

  <!-- Header section with photo and intro -->
  <div id="dhead" class="container">
    <div class="row">
      <!-- Profile Picture -->
      <div id="dpic">
        <img src="assets/profile.jpg" class="ppic" alt="Photo of {{ personal.name }}"
             width="200" height="200" fetchpriority="high" decoding="async">
      </div>
      <!-- Intro Text -->
      <div id="ddesc">
        <h1>{{ personal.name }}</h1>
        <div class="intro-frame">
          {{ personal.intro }}
        </div>
        <div class="location">
          <a href="https://www.google.com/maps/place/{{ personal.location }}" target="_blank" class="location-link">
            <img src="assets/location.svg" alt="Location" class="location-icon"
                 width="16" height="16" loading="eager">
            {{ personal.location }}
          </a>
        </div>
        <div id="dico">
          {% if personal.social.linkedin %}
          <a href="{{ personal.social.linkedin }}" target="_blank">
            <img src="assets/clinkedin.svg" class="iico" alt="LinkedIn"
                 width="40" height="40" loading="eager">
          </a>
          {% endif %}
          
          {% if personal.social.github %}
          <a href="{{ personal.social.github }}" target="_blank">
            <img src="assets/cgithub.svg" class="iico" alt="GitHub"
                 width="40" height="40" loading="eager">
          </a>
          {% endif %}
          
          {% if personal.social.email %}
          <div id="email-container">
            <img src="assets/cemail.svg" class="iico" id="iemail"
                 title="Click to reveal email" alt="Email icon"
                 width="40" height="40" loading="eager" style="cursor: pointer;">
            <span id="demail" class="email-reveal"></span>
          </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>

  <hr>

  <!-- PROJECTS SECTION -->
  <div id="projects" class="section container">
    <div class="ctitle">Projects</div>
    {% for project in projects %}
    <div class="entry">
      <div class="timespan">
        {{ project.timespan }}
      </div>
      <div class="ico">
        <a href="{{ project.link|default('#') }}" class="icon-link">
          <img src="{{ project.icon }}" alt="{{ project.organization }}"
               width="36" height="36" loading="lazy" decoding="async">
        </a>
      </div>
      <div class="desc">
        <strong>{{ project.title }}</strong>{% if project.organization %} at <a href="{{ project.link|default('#') }}" class="subtle-link">{{ project.organization }}</a>{% endif %}<br>
        {% if project.description %}
        {{ project.description }}<br>
        {% endif %}
        {% if project.technologies %}
        <em>Technologies:</em> {{ project.technologies }}
        {% endif %}
        {% if project.timeline %}
        <div class="desc-timeline">
          {% for item in project.timeline %}
          <div class="timeline-item">
            <span class="date">{{ item.date }}:</span>
            {{ item.description }}
          </div>
          {% endfor %}
        </div>
        {% endif %}
      </div>
    </div>
    {% endfor %}
  </div>

  <!-- EDUCATION SECTION -->
  <div id="education" class="section container">
    <div class="ctitle">Education</div>
    {% for edu in education %}
    <div class="entry">
      <div class="timespan">
        {{ edu.timespan }}
      </div>
      <div class="ico">
        <a href="#" class="icon-link">
          <img src="{{ edu.icon }}" alt="{{ edu.institution }}"
               width="36" height="36" loading="lazy" decoding="async">
        </a>
      </div>
      <div class="desc">
        <strong>{{ edu.degree }}</strong><br>
        {{ edu.institution }}<br>
        {% if edu.description %}{{ edu.description }}<br>{% endif %}
        {% if edu.projects %}<em>Projects:</em> {{ edu.projects }}{% endif %}
      </div>
    </div>
    {% endfor %}
  </div>

  <!-- SKILLS SECTION -->
  <div id="skills" class="section container">
    <div class="ctitle">Skills</div>
    <div class="skills-grid">
      {% for key, skill in skills.items() %}
      <div class="skill-category">
        <div class="skill-header">{{ skill.title }}</div>
        <div class="skill-content">
          {% if skill.items %}
            {% for item in skill.items %}
            <div class="language-item">{{ item.language }} <span class="lang-level">({{ item.level }})</span></div>
            {% endfor %}
          {% else %}
            {{ skill.content }}
          {% endif %}
        </div>
      </div>
      {% endfor %}
    </div>
  </div>

  <!-- ABOUT SECTION -->
  <div id="about" class="section container">
    <div class="ctitle">About Me</div>
    <div class="about-content">
      <p>{{ about.intro }}</p>
      <p>{{ about.personal }}</p>
      
      <div class="interests">
        <h3>Research Interests</h3>
        <ul>
          {% for interest in about.research_interests %}
          <li>
            {% if interest is mapping %}
            <a href="{{ interest.link }}" target="_blank" class="interest-link">
              {{ interest.title }}
            </a>
            {% else %}
            {{ interest }}
            {% endif %}
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>

  <!-- Build information -->
  <!-- {{ build_timestamp }} -->

  <script src="js/script.js"></script>
</body>
</html> 